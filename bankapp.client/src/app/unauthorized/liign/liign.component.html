<app-menubar></app-menubar>
<div class="container d-flex justify-content-center">
  <mat-card class="m-5 col-4">
    <mat-card-title>
      Zaloguj się
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="loginForm"
            (ngSubmit)="$event.preventDefault; login()">
        <div class="mb-3 mt-3">
          <label for="accountNumber" class="form-label">Login</label>
          <input type="text"
                 class="form-control"
                 formControlName="accountNumber">
          <app-validation-messages [FormControl]="loginForm.get('accountNumber')">
            <app-validation-message [FormControl]="loginForm.get('accountNumber')"
                                    [validator]="'required'">
              To pole jest wymagane!
            </app-validation-message>
            <app-validation-message [FormControl]="loginForm.get('accountNumber')"
                                    [validator]="'pattern'">
              Nieprawidłowa wartość!
            </app-validation-message>
          </app-validation-messages>
        </div>
        <div class="mb-3">
          <label for="pin" class="form-label">Hasło</label>
          <input type="password"
                 class="form-control"
                 formControlName="pin">
          <app-validation-messages [FormControl]="loginForm.get('pin')">
            <app-validation-message [FormControl]="loginForm.get('pin')"
                                    [validator]="'required'">
              To pole jest wymagane!
            </app-validation-message>
          </app-validation-messages>
        </div>
        <p class="text-danger">{{errorMessage}}</p>
        <div class="d-flex justify-content-center">
          <button *ngIf="loading == false"
                  type="submit"
                  class="btn btn-primary"
                  [disabled]="loginForm.invalid">
            Zaloguj się
          </button>
          <mat-progress-spinner *ngIf="loading == true" mode="indeterminate"></mat-progress-spinner>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
